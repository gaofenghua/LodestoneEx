<?xml version="1.0"?>
<configuration>
<system>
	<Peake_Controller ip="192.168.77.101" port="5768">1</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">2</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">3</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">4</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">5</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">6</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">7</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">8</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">9</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">10</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">11</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">12</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">13</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">14</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">15</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">16</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">17</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">18</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">19</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">20</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">21</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">22</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">23</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">24</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">25</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">26</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">27</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">28</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">29</Peake_Controller>
	<Peake_Controller ip="192.168.77.101" port="5768">30</Peake_Controller>
</system>
  <rule_event_map>
	<rule Camera_ID="3" name="Peake" controller="1" door="1" event="控制器被撬">13</rule>
	<rule Camera_ID="3" name="Peake" controller="1" door="1" event="控制器火警">13</rule>
	<rule Camera_ID="3" name="Peake" controller="1" door="1" event="按钮开门">13</rule>
	<rule Camera_ID="3" name="Peake" controller="1" door="1" event="非法打开">13</rule>
	<rule Camera_ID="3" name="Peake" controller="1" door="1" event="超时未关">13</rule>
	<rule Camera_ID="3" name="Peake" controller="1" door="1" event="读卡器被拆">13</rule>
	<rule Camera_ID="3" name="Peake" controller="1" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="1" door="1" event="胁迫开门">13</rule>
	<rule Camera_ID="3" name="Peake" controller="1" door="1" event="开门成功">13</rule>

	<rule Camera_ID="3" name="Peake" controller="2" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="3" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="4" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="5" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="6" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="7" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="8" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="9" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="10" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="11" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="12" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="13" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="14" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="15" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="16" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="17" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="18" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="19" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="20" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="21" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="22" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="23" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="24" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="25" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="26" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="27" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="28" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="29" door="1" event="无效刷卡">13</rule>
	<rule Camera_ID="3" name="Peake" controller="30" door="1" event="无效刷卡">13</rule>
  </rule_event_map>


  <events>
	<rule id="14" name="测试">test</rule>
	<event id="0" name="未定义">
	</event>
	<event id="1" name="获取设备参数列表">
		<actions>
			<action id="0" type="query_params">
				<command id="1" desc="Get param list">
					<method>GET</method>
					<url>http://192.168.77.243/axis-cgi/param.cgi?action=list</url>
				</command>
			</action>
		</actions>
	</event>
	<event id="2" name="未定义">
	</event>
	<event id="3" name="门禁授权">
		<actions>
			<action id="0" type="open_door">
				<command id="1" desc="Get door tokens">
					<method>POST</method>
					<url>http://192.168.77.130/vapix/doorcontrol</url>
					<body>{"tdc:AccessDoor": {"Token": "Axis-accc8e2477fb:1535965355.060412000"}}</body>
				</command>
			</action>
		</actions>
	</event>
	<event id="4" name="人脸检测联动">
		<actions>
			<action id="0" type="open_door">
				<command id="1" desc="Get door tokens">
					<method>POST</method>
					<url>http://192.168.77.130/vapix/doorcontrol</url>
					<body>{"axtdc:GetDoorConfigurationList":{}}</body>
				</command>
				<command id="2" desc="Execute door control - via body">
					<method>POST</method>
					<url>http://192.168.77.130/vapix/doorcontrol</url>
					<body>{ "tdc:AccessDoor": {"Token": "Axis-accc8e2477fb:1535965354.859920000"}}</body>
				</command>
				<command id="3" desc="Execute door control - via token_id">
					<method>POST</method>
					<url>http://192.168.77.156/vapix/doorcontrol</url>
					<body_elements>
						<execute_type>AccessDoor</execute_type>
						<door_id>all</door_id>
					</body_elements>
				</command>
				<command id="4" desc="Execute door control - via token_id">
					<method>POST</method>
					<url>http://192.168.77.156/vapix/doorcontrol</url>
					<body_elements>
						<execute_type>AccessDoor</execute_type>
						<door_id>0</door_id>
					</body_elements>
				</command>
			</action>
			<action id="1" type="play_audio">
				<command id="1" desc="Execute play clip">
					<method>POST</method>
					<url>http://192.168.77.155/axis-cgi/playclip.cgi?location=alarm.mp3</url>
				</command>
			</action>
		</actions>
	</event>	
  </events>
</configuration>